CREATE TABLE MARKS
(GRNO NUMBER(3),
SUB1 NUMBER(3),
SUB2 NUMBER(3),
SUB3 NUMBER(3),
TOT NUMBER(3),
PER NUMBER(5,2));

CREATE TABLE LOG_TAB
(USER_NAMe VARCHAR2(30),
CHANGE_DT DATE,
OPERATION VARCHAR2(15));

CREATE TRIGGER LOG_TRIG AFTER
INSERT OR UPDATE OR DELETE ON MARKS
BEGIN
	IF INSERTING THEN
		INSERT INTO LOG_TAB VALUES(USER,SYSDATE,'INSERT');
	END IF;
	IF UPDATING THEN
		INSERT INTO LOG_TAB VALUES(USER,SYSDATE,'UPDATE');
	END IF;
	IF DELETING THEN
		INSERT INTO LOG_TAB VALUES(USER,SYSDATE,'DELETE');
	END IF;
END;
/

/*****************************WITH TIME******************************/


CREATE TABLE LOG_TAB
(USER_NAMe VARCHAR2(30),
CHANGE_DT VARCHAR2(50),
OPERATION VARCHAR2(15));


CREATE REPLACE TRIGGER LOG_TRIG AFTER
INSERT OR UPDATE OR DELETE ON MARKS
BEGIN
	IF INSERTING THEN
		INSERT INTO LOG_TAB VALUES(USER,TO_CHAR(SYSDATE,'DD/MM/YY HH24:MI:SS'),'INSERT');
	END IF;
	IF UPDATING THEN
		INSERT INTO LOG_TAB VALUES(USER,TO_CHAR(SYSDATE,'DD/MM/YY HH24:MI:SS'),'UPDATE');
	END IF;
	IF DELETING THEN
		INSERT INTO LOG_TAB VALUES(USER,TO_CHAR(SYSDATE,'DD/MM/YY HH24:MI:SS'),'DELETE');
	END IF;
END;
/